return function(newParent)
	local function init()
    -- LocalScript inside the Tool
    -- Cleaned placement system (no restrictions, always placeable)
    
    local Tool = newParent
    local Player = game.Players.LocalPlayer
    local Mouse = Player:GetMouse()
    local Camera = workspace.CurrentCamera
    local ReplicatedStorage = game:GetService("ReplicatedStorage")
    local UIS = game:GetService("UserInputService")
    local RunService = game:GetService("RunService")
    
    -- Remotes
    local Remotes = ReplicatedStorage:WaitForChild("RemoteEvents")
    local PlaceRemote = Remotes:WaitForChild("Place")
    local RemoveItemRemote = Remotes:WaitForChild("PlaceBuildRemoveItemEvent")
    local DestroyItemRemote = Remotes:WaitForChild("DestroyItemRemote")
    
    -- GUI (you can adjust this for your system)
    local GUI = Player.PlayerGui:WaitForChild("MainUI")
    local XYZGui = GUI.XYZ
    local RotateButton = GUI.Rotate
    local ForwardButton = GUI.Forward
    local BackwardButton = GUI.Backward
    local CheckMark = GUI.CheckMark
    
    -- Preview part
    local PreviewModel
    local PreviewPart
    local Distance = 8 -- how far in front of the player the preview spawns
    local Rotation = Vector3.new(0, 0, 0)
    
    -- Toggles
    local equipped = false
    local rotateAxis = "Y" -- default axis for rotation
    
    ------------------------------------------------
    -- FUNCTIONS
    ------------------------------------------------
    
    -- Spawns a ghost preview of the build
    local function makePreview()
    	if PreviewModel then
    		PreviewModel:Destroy()
    	end
    
    	local buildTemplate = ReplicatedStorage.Builds:FindFirstChild(Tool.Name)
    	if not buildTemplate then return end
    
    	PreviewModel = buildTemplate:Clone()
    	PreviewModel.Parent = workspace
    
    	PreviewPart = Instance.new("Part")
    	PreviewPart.Name = "BuildPreviewPart"
    	PreviewPart.Anchored = true
    	PreviewPart.Transparency = 1
    	PreviewPart.CanCollide = false
    	PreviewPart.Size = Vector3.new(2, 2, 2)
    	PreviewPart.Parent = PreviewModel
    
    	local weld = Instance.new("WeldConstraint")
    	weld.Part0 = PreviewPart
    	weld.Part1 = PreviewModel.PrimaryPart or PreviewModel:FindFirstChildWhichIsA("BasePart")
    	weld.Parent = PreviewPart
    end
    
    -- Updates preview CFrame in front of player
    local function updatePreview()
    	if not equipped or not PreviewPart then return end
    
    	local camCF = Camera.CFrame
    	local placeCF = (camCF.Position + camCF.LookVector * Distance)
    
    	PreviewPart.CFrame = CFrame.new(placeCF) * CFrame.Angles(
    		math.rad(Rotation.X),
    		math.rad(Rotation.Y),
    		math.rad(Rotation.Z)
    	)
    
    	-- Always show "placeable"
    	CheckMark.Image = "rbxassetid://16629665367" -- âœ… green
    end
    
    -- Places the build (fires server event)
    local function placeBuild()
    	if not PreviewPart then return end
    
    	PlaceRemote:FireServer(Tool.Name, PreviewPart.CFrame, math.rad(Rotation.Y))
    	RemoveItemRemote:FireServer(Tool.Name, 1)
    	DestroyItemRemote:FireServer(Tool)
    
    	-- play place sound
    	local sound = Instance.new("Sound")
    	sound.SoundId = "rbxassetid://9118823103"
    	sound.Parent = Player.Character.HumanoidRootPart
    	sound:Play()
    	game.Debris:AddItem(sound, 3)
    end
    
    ------------------------------------------------
    -- INPUT HANDLING
    ------------------------------------------------
    
    -- Rotate axis keys
    UIS.InputBegan:Connect(function(input, gpe)
    	if gpe or not equipped then return end
    
    	if input.KeyCode == Enum.KeyCode.X then
    		rotateAxis = "X"
    	elseif input.KeyCode == Enum.KeyCode.Y then
    		rotateAxis = "Y"
    	elseif input.KeyCode == Enum.KeyCode.Z then
    		rotateAxis = "Z"
    	elseif input.KeyCode == Enum.KeyCode.R then
    		if rotateAxis == "X" then
    			Rotation = Rotation + Vector3.new(45, 0, 0)
    		elseif rotateAxis == "Y" then
    			Rotation = Rotation + Vector3.new(0, 45, 0)
    		elseif rotateAxis == "Z" then
    			Rotation = Rotation + Vector3.new(0, 0, 45)
    		end
    	end
    end)
    
    -- Mouse click to place
    Tool.Activated:Connect(function()
    	if equipped then
    		placeBuild()
    	end
    end)
    
    ------------------------------------------------
    -- EQUIP / UNEQUIP
    ------------------------------------------------
    
    Tool.Equipped:Connect(function()
    	equipped = true
    	makePreview()
    	XYZGui.Visible = true
    	RotateButton.Visible = true
    	ForwardButton.Visible = true
    	BackwardButton.Visible = true
    	CheckMark.Visible = true
    end)
    
    Tool.Unequipped:Connect(function()
    	equipped = false
    	if PreviewModel then
    		PreviewModel:Destroy()
    		PreviewModel = nil
    	end
    	XYZGui.Visible = false
    	RotateButton.Visible = false
    	ForwardButton.Visible = false
    	BackwardButton.Visible = false
    	CheckMark.Visible = false
    end)
    
    ------------------------------------------------
    -- UPDATE LOOP
    ------------------------------------------------
    
    RunService.RenderStepped:Connect(updatePreview)
	end
	local function boot()
		init()
	end
	boot()
end
